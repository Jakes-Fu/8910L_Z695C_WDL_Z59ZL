SET MOCOR_VIEW=D:\Yihui\yihui.hu_MOCOR10A_view
SET MOCOR_IDH_VIEW=D:\Yihui\yihui.hu_MOCOR10AIDH_view
SET MOCOR_LABEL=MOCOR_10A.W11.44

REM  Delete Lib and Version Directory Generated by Lasted Version.
del /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source.rar
rd /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%

rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6804h
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6801h
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_openphone
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_s509h
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220

rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_openphone_le
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le_mc
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g_dualsim
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_openphone_240X400_le

pushd %MOCOR_VIEW%\MS_Code
call make p=sc6800h_sp6804h RMVB_DEC_SUPPORT=FALSE RA8LBR_SUPPORT=FALSE m=dv update job=16
call make p=sc6800h_sp6801h RMVB_DEC_SUPPORT=FALSE RA8LBR_SUPPORT=FALSE m=dv update job=16
call make p=sc6800h_openphone RMVB_DEC_SUPPORT=FALSE RA8LBR_SUPPORT=FALSE m=dv update job=16
call make p=sc6800h_s509h RMVB_DEC_SUPPORT=FALSE RA8LBR_SUPPORT=FALSE m=dv update job=16
rem call make p=sc6800h_sp6801h_176X220 RMVB_DEC_SUPPORT=FALSE RA8LBR_SUPPORT=FALSE m=dv update job=16

del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h\wma.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h\ra8lbr.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h\rv_codec.a

del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6804h\wma.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6804h\ra8lbr.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6804h\rv_codec.a

del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_openphone\wma.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_openphone\ra8lbr.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_openphone\rv_codec.a

rem del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220\wma.a
rem del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220\ra8lbr.a
rem del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220\rv_codec.a

del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_s509h\wma.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_s509h\ra8lbr.a
del /f /q %MOCOR_VIEW%\MS_Code\lib\sc6800h_s509h\rv_codec.a

del /q \\scmserver\Test_Products_Library\2011-2\PLD\MOCOR\MOCOR_10A\%MOCOR_LABEL%\%MOCOR_LABEL%_Source.rar

REM ===== Copy and Compress Source =====
rmdir /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\mmi_app\app\ia_java

rd /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x320_6432
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x320_lightcolor
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x320_universe
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x400_universe

rem del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x400\FONT\LANG_FONT_HAN*.lib

del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_176x220\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_320x480\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x320\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x400\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_128x64\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x320_universe\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_240x400_universe\FONT\LANG_FONT_HAN*.lib
del /f /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_320x480_universe\FONT\LANG_FONT_HAN*.lib

rem md %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_64x128\FONT1
rem xcopy %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_64x128\FONT\LANG_FONT_LATIN*.lib %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_64x128\FONT1
rem rd /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_64x128\FONT
rem ren %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\resource\mmi_res_64x128\FONT1 FONT

copy /y %MOCOR_VIEW%\MS_Code\lib\sc8800g_dualsim\sun_java.lib %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le
attrib -r /s /d %MOCOR_IDH_VIEW%\MS_Code\Third-party\Mplapi\Arm_lib\normal\mplapi*.a
attrib -r /s /d %MOCOR_IDH_VIEW%\MS_Code\Third-party\netfront
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\Third-party\netfront\LittleEndian
xcopy /I /Y /E %MOCOR_VIEW%\MS_Code\Third-party\formal\netfront\LittleEndian %MOCOR_IDH_VIEW%\MS_Code\Third-party\netfront\LittleEndian
copy /y %MOCOR_VIEW%\MS_Code\build\sc8800g_dualsim_builddir\lib\mplapi*.a %MOCOR_IDH_VIEW%\MS_Code\Third-party\Mplapi\Arm_lib\normal 

del /s /q /a:r "%MOCOR_IDH_VIEW%\MS_Code\version\Release Notes.xls"
copy /y "%MOCOR_VIEW%\MS_Code\version\documents\Release Notes.xls" %MOCOR_IDH_VIEW%\MS_Code\version

rd /s /q %MOCOR_IDH_VIEW%\MS_Code\tools\DEBUG_TOOL\Logel_for_TD
pause
echo Verify Cope Lib files is finished successfully!!
pause

pushd %MOCOR_IDH_VIEW%\MS_Code
ccperl IDHMakefile.pl project_sc6800h_openphone.mk project_sc6800h_s509h.mk project_sc6800h_sp6801h.mk project_sc6800h_sp6801h_176X220.mk project_sc6800h_sp6801h_nor.mk project_sc6800h_sp6801h_yz988.mk project_sc6800h_sp6804h.mk project_sc8800g2_dphone.mk project_sc8800g2_openphone_240X400_le.mk project_sc8800g2_openphone_le.mk project_sc8800g2_sp8803g_le.mk project_sc8800g2_sp8803g_le_mc.mk project_sc8800g2_sp8803g_le_modem.mk project_sc8800g_cmmb.mk project_sc8800g_dualsim.mk

echo Modify Project Files for Customer IDH
pause
del /f /s /q proj*.bak

REM ===== Copy Projects' Unopened Lib filesand and Rebuild IDH ARM To Verify Buildable =====
pushd %MOCOR_IDH_VIEW%\MS_Code
md Third-party\bt_csr\bt_csr_15_3\Arm_lib\nostack
copy /y %MOCOR_VIEW%\MS_Code\Third-party\formal\bt_csr\bt_csr_15_3\Arm_lib\normal\bt_csr_arm9_le.a %MOCOR_IDH_VIEW%\MS_Code\Third-party\bt_csr\bt_csr_15_3\Arm_lib\nostack
copy /y %MOCOR_VIEW%\MS_Code\Third-party\formal\bt_csr\bt_csr_15_3\Arm_lib\normal\bt_csr_arm9.a %MOCOR_IDH_VIEW%\MS_Code\Third-party\bt_csr\bt_csr_15_3\Arm_lib\nostack

pushd %MOCOR_IDH_VIEW%\MS_Code
REM === SC6800H Projects, Rebuild instantly after copy ====
move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6804h %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6804h
START "sc6800h_sp6804h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6804h new job=16 -j5
sleep 2.5m
move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6801h
START "sc6800h_sp6801h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6801h new job=16 -j5
sleep 2.5m
move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_openphone %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_openphone
START "sc6800h_openphone building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_openphone new job=16 -j5
sleep 2.5m
move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_s509h %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_s509h
START "sc6800h_s509h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_s509h new job=16 -j5
sleep 2.5m
rem move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220 %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6801h_176X220
rem START "sc6800h_sp6801h_176X220 building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6801h_176X220 new job=16 -j5
rem sleep 2.5m
REM === SC8800G Projects, Rebuild instantly after copy ====
rem move /y %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le_mc %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le_mc
rem START "sc8800g2_sp8803g_le_mc building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le_mc new job=16 -j4

move /y %MOCOR_VIEW%\MS_Code\lib\sc8800g_dualsim %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g_dualsim
START "sc8800g_dualsim building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g_dualsim new job=16 -j4
sleep 3m
move /y %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le
START "sc8800g2_sp8803g_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le new job=16 -j4
sleep 3m
move /y %MOCOR_VIEW%\MS_Code\lib\sc8800g2_openphone_le %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_openphone_le
START "sc8800g2_openphone_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_le new job=16 -j4
sleep 3m
move /y %MOCOR_VIEW%\MS_Code\lib\sc8800g2_openphone_240X400_le %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_openphone_240X400_le
START "sc8800g2_openphone_240X400_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_240X400_le new job=16 -j4
sleep 3m
rem md Third-party\bt_csr\bt_csr_15_3\Arm_lib\normal
rem move /y %MOCOR_VIEW%\MS_Code\lib\sc6800h_sp6804h %MOCOR_IDH_VIEW%\MS_Code\lib\sc6800h_sp6804h

pushd %MOCOR_IDH_VIEW%\MS_Code

START "sc6800h_sp6804h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6804h m=simulator ib=1 run=1
sleep 1m
START "sc6800h_sp6801h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6801h m=simulator ib=1 run=1
sleep 1m
START "sc6800h_openphone building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_openphone m=simulator ib=1 run=1
sleep 1m
START "sc6800h_s509h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_s509h m=simulator ib=1 run=1
sleep 1m
rem START "sc6800h_sp6801h_176X220 building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6801h_176X220 m=simulator ib=1 run=1
rem sleep 1m

START "sc8800g_dualsim simulator building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g_dualsim m=simulator ib=1 run=1
sleep 1m
rem START "sc8800g2_sp8803g_le_mc simulator building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le_mc m=simulator ib=1 run=1
rem sleep 1m
START "sc8800g2_sp8803g_le simulator building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le m=simulator ib=1 run=1
sleep 1m
START "sc8800g2_openphone_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_le m=simulator ib=1 run=1
sleep 1m
rem START "sc8800g2_openphone_240X400_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_240X400_le new job=16 -j4

rem pause
rem echo Modify Project Files for Customer
rem pause
rem START "sc6800h_sp6804h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6804h new job=16 -j5
rem sleep 3m
rem START "sc6800h_s509h building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_s509h new job=16 -j5
rem sleep 3m
rem START "sc6800h_sp6801h_176X220 building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc6800h_sp6801h_176X220 new job=16 -j5
rem sleep 3m
rem START "sc8800g2_openphone_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_le new job=16 -j4
rem sleep 3m
rem START "sc8800g2_sp8803g_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le new job=16 -j4
rem sleep 3m
rem START "sc8800g_dualsim building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g_dualsim new job=16 -j4
rem sleep 3m
rem START "sc8800g2_sp8803g_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_sp8803g_le new job=16 -j4
rem sleep 3m
rem START "sc8800g2_openphone_240X400_le building" /d %MOCOR_IDH_VIEW%\MS_Code /MAX call make p=sc8800g2_openphone_240X400_le new job=16 -j4
rem sleep 3m

pause
pause

pushd %MOCOR_VIEW%\MS_Code
rem rename %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa.a tdd_l4_hsdpa.a.bak 
call make p=sc8800g2_sp8803g_le m=tdd_l4_hsdpa RELEASE_FLAG=TRUE update job=16
rename %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa.a tdd_l4_hsdpa_release.a
copy %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa_release.a %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g_dualsim
copy %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa_release.a %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le
copy %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa_release.a %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_openphone_240X400_le
rem copy %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le\tdd_l4_hsdpa_release.a %MOCOR_IDH_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le_mc

Echo Check the Build result...
pause
pause
pushd %MOCOR_IDH_VIEW%
mkdir %MOCOR_IDH_VIEW%\%MOCOR_LABEL%

move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc6800h_sp6804h_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc6800h_sp6804h_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc6800h_sp6801h_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc6800h_sp6801h_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc6800h_openphone_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc6800h_openphone_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc6800h_s509h_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc6800h_s509h_builddir
rem move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc6800h_sp6801h_176X220_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc6800h_sp6801h_176X220_builddir

rem move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc8800g2_sp8803g_le_mc_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc8800g2_sp8803g_le_mc_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc8800g2_openphone_240X400_le_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc8800g2_openphone_240X400_le_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc8800g_dualsim_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc8800g_dualsim_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc8800g2_sp8803g_le_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc8800g2_sp8803g_le_builddir
move /y %MOCOR_IDH_VIEW%\MS_Code\build\sc8800g2_openphone_le_builddir\img %MOCOR_IDH_VIEW%\%MOCOR_LABEL%\sc8800g2_openphone_le_builddir

rmdir /s /q %MOCOR_IDH_VIEW%\MS_Code\build
rmdir /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\Common
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\Third-party\bt_csr\bt_csr_15_3

md %MOCOR_IDH_VIEW%\MS_Code\build

del /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\Common\Lib\MSDevBridge.lib
rmdir /s /q %MOCOR_IDH_VIEW%\MS_Code\MS_MMI\source\winsimulator_tp\win_platform\MSKernel\MSBridge\Debug
del /q %MOCOR_IDH_VIEW%\MS_Code\tools\DEBUG_TOOL\NVEDITOR\Bin\CommUart.log
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\Third-party\netfront\LittleEndian
rd /s /q %MOCOR_IDH_VIEW%\MS_Code\Third-party\Mplapi

rename %MOCOR_IDH_VIEW%\MS_Code %MOCOR_LABEL%_Source
pause
rem Verify Rename Successfully and Press Enter
pause
pushd %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib

START "Lib compressing sc8800g2_sp8803g_le" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc8800g2_sp8803g_le.rar sc8800g2_sp8803g_le
sleep 20s
rem START "Lib compressing sc8800g2_sp8803g_le_mc" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc8800g2_sp8803g_le_mc.rar sc8800g2_sp8803g_le_mc
rem sleep 15s
START "Lib compressing sc8800g_dualsim" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc8800g_dualsim.rar sc8800g_dualsim
sleep 10s


START "Lib compressing sc8800g2_openphone_le" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc8800g2_openphone_le.rar sc8800g2_openphone_le
sleep 20s
rem START "Lib compressing sc8800g2_openphone_240X400_le" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc8800g2_openphone_240X400_le.rar sc8800g2_openphone_240X400_le
rem sleep 20s

START "Lib compressing sc6800h_sp6804h" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc6800h_sp6804h.rar sc6800h_sp6804h
sleep 10s
START "Lib compressing sc6800h_sp6801h" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc6800h_sp6801h.rar sc6800h_sp6801h
sleep 10s
START "Lib compressing sc6800h_openphone" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc6800h_openphone.rar sc6800h_openphone
sleep 10s
START "Lib compressing sc6800h_s509h" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc6800h_s509h.rar sc6800h_s509h
sleep 10s
rem START "Lib compressing sc6800h_sp6801h_176X220" /d %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib /MAX "C:\Program Files\winrar\rar" a -r sc6800h_sp6801h_176X220.rar sc6800h_sp6801h_176X220
rem sleep 10s

pushd %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib
"C:\Program Files\winrar\rar" a -r sc8800g2_openphone_240X400_le.rar sc8800g2_openphone_240X400_le
rem Verify finish compressing Lib ...
Pause


rem "C:\Program Files\winrar\rar" a -r sc6800h_sp6804h.rar sc6800h_sp6804h
rem "C:\Program Files\winrar\rar" a -r sc6800h_s509h.rar sc6800h_s509h
rem "C:\Program Files\winrar\rar" a -r sc6800h_sp6801h_176X220.rar sc6800h_sp6801h_176X220

rem "C:\Program Files\winrar\rar" a -r sc8800g2_openphone_le.rar sc8800g2_openphone_le
rem "C:\Program Files\winrar\rar" a -r sc8800g2_sp8803g_le.rar sc8800g2_sp8803g_le
rem "C:\Program Files\winrar\rar" a -r sc8800g2_sp8803g_le_mc.rar sc8800g2_sp8803g_le_mc
rem "C:\Program Files\winrar\rar" a -r sc8800g2_openphone_240X400_le.rar sc8800g2_openphone_240X400_le

md \\scmserver\Test_Products_Library\2011-2\PLD\MOCOR\MOCOR_10A\%MOCOR_LABEL%
copy /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\*.rar \\scmserver\Test_Products_Library\2011-2\PLD\MOCOR\MOCOR_10A\%MOCOR_LABEL%
del /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\*.rar

pushd %MOCOR_IDH_VIEW%
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc6800h_sp6804h %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc6800h_sp6801h %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc6800h_openphone %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc6800h_s509h %MOCOR_VIEW%\MS_Code\lib
rem move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc6800h_sp6801h_176X220 %MOCOR_VIEW%\MS_Code\lib

rd /s /q %MOCOR_VIEW%\MS_Code\lib\sc8800g2_sp8803g_le
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g2_sp8803g_le %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g_dualsim %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g2_openphone_le  %MOCOR_VIEW%\MS_Code\lib
move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g2_openphone_240X400_le  %MOCOR_VIEW%\MS_Code\lib

pause
Echo Verify move lib directory back !!
pause
rem move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g2_openphone_240X400_le  %MOCOR_VIEW%\MS_Code\lib
rem move /y %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\lib\sc8800g_dualsim  %MOCOR_VIEW%\MS_Code\lib

rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\wintone
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\wap
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\ocr
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\dictionary
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\t9
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\s9
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\Java
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\qq
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\TencentMcare
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\email
rmdir /s /q %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source\Third-party\formal

pause

"C:\Program Files\winrar\rar" a -r %MOCOR_LABEL%_Source.rar %MOCOR_LABEL%_Source
copy /y %MOCOR_LABEL%_Source.rar \\scmserver\Test_Products_Library\2011-2\PLD\MOCOR\MOCOR_10A\%MOCOR_LABEL%

rename %MOCOR_IDH_VIEW%\%MOCOR_LABEL%_Source MS_Code
rem del /f /q %MOCOR_LABEL%_Source.rar
pause
